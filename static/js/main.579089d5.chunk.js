(this["webpackJsonpincome-tracker"]=this["webpackJsonpincome-tracker"]||[]).push([[0],{33:function(e,t,n){e.exports=n.p+"static/media/background-pattern.caaa4419.jpg"},36:function(e,t,n){e.exports=n(58)},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(8),u=n(28),l=n(27);c.b.add(l.a,u.a);var d=n(4),m=function(e,t){var n=Object(r.useState)((function(){try{var n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return t}})),a=Object(d.a)(n,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(o))}),[o,e]),{storedValue:o,setStoredValue:i}},f=n(59),s=[{id:Object(f.a)(),description:"Income tracker - React app",date:{date:"Mon Oct 12 2020 12:00:00 GMT+0200 (Central European Summer Time)",formatted:"12/10/2020"},amount:1250.76},{id:Object(f.a)(),description:"Mowing the lawn",date:{date:"Fri Oct 09 2020 12:00:00 GMT+0200 (Central European Summer Time)",formatted:"09/10/2020"},amount:50},{id:Object(f.a)(),description:"Taking out the trash",date:{date:"Fri Oct 02 2020 12:00:00 GMT+0200 (Central European Summer Time)",formatted:"02/10/2020"},amount:5},{id:Object(f.a)(),description:"Performance at a concert",date:{date:"Thu Sep 24 2020 12:00:00 GMT+0200 (Central European Summer Time)",formatted:"24/09/2020"},amount:500},{id:Object(f.a)(),description:"Childcare",date:{date:"Fri Sep 25 2020 12:00:00 GMT+0200 (Central European Summer Time)",formatted:"25/09/2020"},amount:120},{id:Object(f.a)(),description:"Pocket money",date:{date:"Tue Sep 15 2020 12:00:00 GMT+0200 (Central European Summer Time)",formatted:"15/09/2020"},amount:100}],p=n(2),h={background:{primary:"#222222",secondary:"#383838",tertiary:"#454545"},color:{black:"#000000",dim:"#B0B0B0",highlight:"#FFC42D",secondary:"#608CFF",white:"#ffffff"},font:{size:{h1:"36px",h2:"18px",primary:"14px",secondary:"16px"},weight:{regular:"400",medium:"500",semibold:"600",bold:"700"},family:"'Work Sans', sans-serif"},borderRadius:"12px"},b=n(3),g=n(29),v=n(33),x=n.n(v);function y(){var e=Object(b.a)(["\n  max-width: 684px;\n  width: 100%;\n  padding-left: 20px;\n  padding-right: 20px;\n"]);return y=function(){return e},e}function O(){var e=Object(b.a)(["\n\t@import url('https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap');\n\n\t*, *::before, *::after {\n\t\tbox-sizing: border-box;\n\t}\n\n  body {\n\t\t","\n\t\tbackground-image: url(",");\n\t\tbackground-position: top center;\n\t\tcolor: ",";\n\t\tdisplay: flex;\n\t\tfont-family: ",";\n\t\tfont-size: ",";\n\t\tjustify-content: center;\n\t\tpadding-top: 112px;\n\t}\n\n\tbutton {\n\t\tcursor: pointer;\n\t}\n\t\n\tinput {\n\t\tbackground-color: transparent;\n\t\tborder: 0;\n\t}\n\n\tinput:focus {\n\t\toutline: none;\n\t}\n\n\t::-webkit-input-placeholder {\n\t\tcolor: ",";\n\t\topacity: 1;\n\t}\n\n\tinput:placeholder {\n\t\tcolor: ",";\n\t}\n"]);return O=function(){return e},e}var E=Object(p.c)(O(),g.a,x.a,(function(e){return e.theme.color.white}),(function(e){return e.theme.font.family}),(function(e){return e.theme.font.size.primary}),(function(e){return e.theme.color.dim}),(function(e){return e.theme.color.dim})),j=p.e.section(y()),w=function(e){var t=e.children;return a.a.createElement(p.b,{theme:h},a.a.createElement(E,null),a.a.createElement(j,null,t))},k=/^(0?[1-9]|[12][0-9]|3[01])[\\/](0?[1-9]|1[012])[\\/\\-]\d{4}$/g,D="Amount must be a number",S="Amount is required",C="Date must be a valid date (DD/MM/YYYY)",I="Date is required",z="Description must be 5 or more characters",P="Description is required",T="Passed parameter is not an object";function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{minimumFractionDigits:2},n=e.toLocaleString("de-DE",t);return n}function F(e){var t={};return e.description?e.description.length<5&&(t.description=z):t.description=P,e.amount?Number.isNaN(e.amount)&&(t.amount=D):t.amount=S,e.date.formatted?e.date.formatted.match(k)||(t.date=C):t.date=I,t}var N=function(e,t){return new Date(t.date.date)-new Date(e.date.date)};function R(){var e=Object(b.a)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: 12px;\n  text-align: right;\n"]);return R=function(){return e},e}function q(){var e=Object(b.a)(["\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: 30px;\n  text-align: center;\n  text-shadow: 0px 0px 7px rgba(0, 0, 0, 0.25);\n"]);return q=function(){return e},e}var Y=p.e.h1(q(),(function(e){return e.theme.font.size.h1}),(function(e){return e.theme.font.weight.semibold})),B=p.e.p(R(),(function(e){return e.theme.color.black}),(function(e){return e.theme.font.size.h2}),(function(e){return e.theme.font.weight.semibold})),H=function(e){var t=e.totalIncome;return a.a.createElement("header",null,a.a.createElement(Y,null,"Income Tracker"),a.a.createElement(B,null,"PLN\xa0",a.a.createElement("span",{"data-testid":"total-income"},M(t))))},G=n(5),A=n(34),J=n(15),V={description:"",amount:"",date:""},W=function(e,t){var n=Object(r.useState)(V),a=Object(d.a)(n,2),o=a[0],i=a[1],c=Object(r.useState)({}),u=Object(d.a)(c,2),l=u[0],m=u[1],f=Object(r.useState)(!1),s=Object(d.a)(f,2),p=s[0],h=s[1];Object(r.useEffect)((function(){0===Object.keys(l).length&&p&&(e(o,h),i(V))}),[l,e,p,o]);return{handleChange:function(e,t){e?(e.persist(),i((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(J.a)({},e.target.name,"number"===e.target.type?parseFloat(e.target.value,10):e.target.value))}))):i((function(e){return Object(G.a)(Object(G.a)({},e),{},{date:t})}))},handleSubmit:function(e){e&&e.preventDefault(),m(t(o)),h(!0)},formFields:o,errors:l,isSubmitting:p}},L=n(1),$=(Object(L.arrayOf)(Object(L.exact)({id:L.string.isRequired,description:L.string.isRequired,date:Object(L.exact)({date:L.string.isRequired,formatted:L.string.isRequired}),amount:L.number.isRequired})),L.func,n(23)),K=function(e){var t=e.children,n=e.wrapperElement,o=void 0===n?"div":n,i=e.delay,c=void 0===i?0:i,u=o,l=Object(r.useRef)(null);return Object(r.useEffect)((function(){$.a.from(l.current,.5,{y:50,opacity:0,delay:c}),$.a.to(l.current,.5,{delay:c+3,opacity:0,y:-100})}),[l,c]),a.a.createElement(u,{ref:l},t)};K.defaultProps={wrapperElement:"div",delay:0};var Q=K,U=function(e){var t=e.children,n=document.getElementById("portal-root"),a=document.createElement("div");return Object(r.useEffect)((function(){if(n)return n.appendChild(a),function(){return n.removeChild(a)}}),[a,n]),Object(o.createPortal)(t,a)};function X(){var e=Object(b.a)(["\n  background-color: #ff0b0b;\n  color: white;\n  padding: 13px 15px;\n  border-radius: 8px;\n  margin-top: 10px;\n  box-shadow: 0 0 8px rgba(255, 11, 11, 0.4);\n"]);return X=function(){return e},e}function Z(){var e=Object(b.a)(["\n  position: fixed;\n  right: 20px;\n  top: 10px;\n  width: 300px;\n"]);return Z=function(){return e},e}var _=p.e.div(Z()),ee=p.e.div(X()),te=function(e){var t=e.children;return a.a.createElement(ee,null,t)};te.Wrapper=_;var ne=te,re=a.a.memo((function(e){var t=e.errors;return function(e){if(e.constructor!==Object)throw Error(T);return 0===Object.keys(e).length&&e.constructor===Object}(t)?null:a.a.createElement(U,null,a.a.createElement(ne.Wrapper,null,Object.entries(t).map((function(e,t){var n=Object(d.a)(e,2),r=n[0],o=n[1];return a.a.createElement(Q,{delay:t/5,key:r},a.a.createElement(ne,null,o))}))))}));function ae(){var e=Object(b.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex: ",";\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  height: 100%;\n  min-width: 100px;\n  padding-left: 20px;\n  padding-right: 20px;\n  width: ",";\n"]);return ae=function(){return e},e}var oe=p.e.input(ae(),(function(e){return e.theme.color.dim}),(function(e){var t=e.width;return t?"0 0 ".concat(t,"px"):"1 0 0"}),(function(e){return e.theme.font.family}),(function(e){return e.theme.font.size.primary}),(function(e){return e.theme.font.weight.medium}),(function(e){var t=e.width;return t&&"".concat(t,"px")})),ie=function(e){var t=Object.assign({},e);return a.a.createElement(oe,t)};ie.defaultProps={placeholder:void 0,value:void 0,autoComplete:void 0,width:void 0,onChange:void 0};var ce=ie;function ue(){var e=Object(b.a)(["\n  background-color: transparent;\n  background-size: 200% auto;\n  border-bottom-right-radius: 12px;\n  border-top-right-radius: 12px;\n  border: 0;\n  color: ",";\n  flex-shrink: 0;\n  flex-shrink: 0;\n  font-family: inherit;\n  font-size: 13px;\n  font-weight: ",";\n  height: 100%;\n  overflow: hidden;\n  padding-left: 15px;\n  padding-right: 15px;\n  text-transform: uppercase;\n  transition: 0.5s;\n  background-image: linear-gradient(\n    to right,\n    "," 0%,\n    "," 51%,\n    #222 100%\n  );\n  &:hover {\n    background-position: right center;\n  }\n"]);return ue=function(){return e},e}var le=p.e.button(ue(),(function(e){return e.theme.color.white}),(function(e){return e.theme.font.weight.bold}),(function(e){return e.theme.background.tertiary}),(function(e){return e.theme.background.tertiary})),de=function(e){var t=e.children;return a.a.createElement(le,{type:"submit"},t)},me=n(20),fe=n.n(me),se=(n(54),n(21)),pe=fe.a.defaultProps.classNames,he=function(e){var t=e.className,n=void 0===t?"":t,r=e.onDayChange,o=e.value,i=e.placeholder;return a.a.createElement(fe.a,{classNames:Object(G.a)(Object(G.a)({},pe),{},{container:"".concat(pe.container," ").concat(n)}),format:"DD/MM/YYYY",formatDate:se.formatDate,parseDate:se.parseDate,onDayChange:r,value:o,placeholder:i})};he.defaultProps={className:""};var be=he;function ge(){var e=Object(b.a)(["\n  &.DayPickerInput {\n    width: 110px;\n  }\n  .DayPicker-Day {\n    color: ",";\n  }\n  .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\n    background-color: ",";\n    color: ",";\n  }\n  input {\n    color: ",";\n  }\n"]);return ge=function(){return e},e}var ve=Object(p.e)(be)(ge(),(function(e){return e.theme.color.black}),(function(e){return e.theme.color.highlight}),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.dim})),xe=function(e){var t=e.onDayChange,n=e.placeholder,r=e.value;return a.a.createElement(ve,{onDayChange:t,placeholder:n,value:r})};xe.defaultProps={placeholder:null};var ye=xe;function Oe(){var e=Object(b.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: ",";\n  display: flex;\n  height: 45px;\n"]);return Oe=function(){return e},e}var Ee=p.e.form(Oe(),(function(e){return e.theme.background.secondary}),(function(e){return e.theme.borderRadius})),je=function(e){var t=e.incomes,n=e.setIncomes,o=Object(r.useCallback)((function(e,r){n([].concat(Object(A.a)(t),[Object(G.a)({id:Object(f.a)()},e)])),r(!1)}),[t,n]),i=W(o,F),c=i.formFields,u=i.errors,l=i.handleChange,d=i.handleSubmit,m=i.isSubmitting;return a.a.createElement(Ee,{onSubmit:d},a.a.createElement(re,{errors:u,isSubmitting:m}),a.a.createElement(ce,{type:"text",name:"description",placeholder:"Income description",value:c.description,autoComplete:"off",width:"260",onChange:l}),a.a.createElement(ce,{type:"number",name:"amount",min:"0",step:"0.01",placeholder:"Amount",value:c.amount,autoComplete:"off",onChange:l}),a.a.createElement(ye,{placeholder:"Date",value:c.date.formatted||"",onDayChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>2?arguments[2]:void 0,n={date:e.toString(),formatted:t.getInput().value.trim()};l(null,n)}}),a.a.createElement(de,null,"Add income"))};function we(){var e=Object(b.a)(["\n  color: ",";\n  flex: 1 0 auto;\n  font-size: ",";\n  font-weight: ",";\n  padding-left: 25px;\n  padding-right: 25px;\n  &:nth-child(n + 2) {\n    flex: 0 0 160px;\n    width: 160px;\n  }\n  &:last-child {\n    align-items: center;\n    display: flex;\n    flex: 0 0 40px;\n    padding: 0;\n    text-align: center;\n    width: 40px;\n  }\n"]);return we=function(){return e},e}function ke(){var e=Object(b.a)(["\n  display: flex;\n  margin-bottom: 10px;\n"]);return ke=function(){return e},e}var De=p.e.div(ke()),Se=p.e.p(we(),(function(e){return e.theme.color.highlight}),(function(e){return e.theme.font.size.secondary}),(function(e){return e.theme.font.weight.medium})),Ce=function(e){return e.children};Ce.Header=function(e){var t=e.children;return a.a.createElement(De,null,t)},Ce.Heading=function(e){var t=e.children;return a.a.createElement(Se,null,t)},Ce.Body=function(e){var t=e.children;return a.a.createElement("div",null,t)};var Ie=Ce;function ze(){var e=Object(b.a)(["\n  margin-top: 20px;\n  background-color: ",";\n  border-radius: 12px;\n  padding-top: 25px;\n  padding-bottom: 25px;\n"]);return ze=function(){return e},e}function Pe(){var e=Object(b.a)(["\n  font-size: ",";\n  font-weight: ",";\n  padding-left: 25px;\n  margin-bottom: 20px;\n"]);return Pe=function(){return e},e}var Te=p.e.h2(Pe(),(function(e){return e.theme.font.size.h2}),(function(e){return e.theme.font.weight.medium})),Me=p.e.section(ze(),(function(e){return e.theme.background.primary})),Fe=n(22);function Ne(){var e=Object(b.a)(["\n  background-color: transparent;\n  border: 0;\n  color: ",";\n  padding: 10px;\n  &:hover {\n    color: ",";\n  }\n"]);return Ne=function(){return e},e}function Re(){var e=Object(b.a)(["\n  border-bottom: 1px solid #484848;\n  flex: 1 0 auto;\n  padding: 10px 25px;\n  &:nth-of-type(n + 2) {\n    flex: 0 0 160px;\n    width: 160px;\n  }\n  &:last-child {\n    align-items: center;\n    display: flex;\n    flex: 0 0 40px;\n    padding: 0;\n    text-align: center;\n    width: 40px;\n  }\n"]);return Re=function(){return e},e}function qe(){var e=Object(b.a)(["\n  display: flex;\n  position: relative;\n"]);return qe=function(){return e},e}var Ye=p.e.div(qe()),Be=p.e.div(Re()),He=p.e.button(Ne(),(function(e){return e.theme.color.white}),(function(e){return e.theme.color.highlight})),Ge=function(e){var t=e.income,n=t.id,o=t.description,i=t.amount,c=t.date,u=e.removeIncome,l=Object(r.useContext)(p.a);return a.a.createElement(Ye,null,a.a.createElement(Be,null,o),a.a.createElement(Be,null,a.a.createElement(Fe.a,{icon:["far","clock"],color:l.color.secondary})," ",c.formatted),a.a.createElement(Be,null,a.a.createElement(Fe.a,{icon:["fas","coins"],color:l.color.highlight})," ",M(i)),a.a.createElement(Be,null,a.a.createElement(He,{onClick:function(){u(n)},type:"button"},"x")))},Ae=function(e){var t=e.incomes,n=e.setIncomes,r=function(e){var r=t.filter((function(t){return t.id!==e}));n(r)};return a.a.createElement(Me,null,a.a.createElement(Te,null,"Incomes"),a.a.createElement(Ie,null,a.a.createElement(Ie.Header,null,a.a.createElement(Ie.Heading,null,"Description"),a.a.createElement(Ie.Heading,null,"Date"),a.a.createElement(Ie.Heading,null,"Amount (PLN)"),a.a.createElement(Ie.Heading,null)),a.a.createElement(Ie.Body,null,t.sort(N).map((function(e){return a.a.createElement(Ge,{key:e.id,income:e,index:e.id,removeIncome:r})})))))},Je=function(){var e=m("incomes",s),t=e.storedValue,n=e.setStoredValue,o=Object(r.useState)(0),i=Object(d.a)(o,2),c=i[0],u=i[1];return Object(r.useEffect)((function(){var e=t.reduce((function(e,t){return e+parseFloat(t.amount,10)}),0);u(e)}),[t]),a.a.createElement(w,null,a.a.createElement(H,{totalIncome:c}),a.a.createElement(je,{incomes:t,setIncomes:n}),a.a.createElement(Ae,{incomes:t,setIncomes:n}))};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Je,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.579089d5.chunk.js.map